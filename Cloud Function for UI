const handleDreamSubmission = async () => {
    const val = dreamRef.current?.value || '';
    if (val.trim()) {
        setDreamText(val);
        setDreamSubmitted(true);
        
        // Call the Firebase Cloud Function to generate a goal
        try {
            const response = await fetch('https://<your-firebase-project-id>.cloudfunctions.net/generateGoalFromDream', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ dreamText: val }),
            });

            if (!response.ok) {
                throw new Error('Failed to fetch goal');
            }
            const data = await response.json();
            console.log("Generated Goal:", data.goal);
            setSelectedGoal(data.goal); // Update your state to show the generated goal
        } catch (error) {
            console.error("Error:", error);
        }
    }
};
